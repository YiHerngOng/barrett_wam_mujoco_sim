<!--Barrett WAM model developed by Human System and Robotics Laboratory-->

<mujoco model="bhand_new">
	<compiler inertiafromgeom="true" coordinate="local" angle="radian" meshdir="meshes/"/>
	<default>
		<joint type="hinge" limited="true" pos="0 0 0"/>
<!-- 		<default class='bhand'>
			<geom type="mesh" contype="0" contype="0" conaffinity="0" group="1" rgba="0.7 0.7 0.7 0.7"/>
		</default>
		<default class='collision'>
			<geom type="mesh" contype="0" contype="0" conaffinity="0" group="1" rgba="0.5 0.5 0.5 1"/>
		</default>		 -->
	</default>
	<asset>
		<mesh name="bhand_palm" file="bhand_palm_fine.stl"/>
		<mesh name="finger_1_prox" file="bhand_finger_prox_link_fine.stl"/>
		<mesh name="finger_1_med" file="bhand_finger_med_link_fine.stl"/>
		<mesh name="finger_1_dist" file="bhand_finger_dist_link_fine.stl"/>
		<mesh name="finger_2_prox" file="bhand_finger_prox_link_fine.stl"/>
		<mesh name="finger_2_med" file="bhand_finger_med_link_fine.stl"/>
		<mesh name="finger_2_dist" file="bhand_finger_dist_link_fine.stl"/>
		<mesh name="finger_3_prox" file="bhand_finger_prox_link_fine.stl"/>
		<mesh name="finger_3_med" file="bhand_finger_med_link_fine.stl"/>
		<mesh name="finger_3_dist" file="bhand_finger_dist_link_fine.stl"/>	
		<texture name="groundplane" type="2d" builtin="checker" rgb1=".25 .26 .25"
			rgb2=".22 .22 .22" width="100" height="100" mark="edge" markrgb=".3 .3 .3"/>
		<material name="MatGnd" texture="groundplane"  texrepeat="5 5" specular="1" shininess=".3" reflectance="0.00001"/>
		<material name="MatGnd1" specular=".3" shininess=".3" reflectance="0.3" rgba=".5 .55 .5 1"/>
	</asset>
	<worldbody>
		<light directional="true" cutoff="60" exponent="1" diffuse="1 1 1" specular=".1 .1 .1" pos=".1 .2 1.3" dir="-.1 -.2 -1.3"/>
		<geom name="ground" type="plane" pos="0 0 0" size="1.5 2 1" conaffinity="1" contype="1" material="MatGnd"/>
<!-- 		<geom name="table" material="MatGnd1" type="plane" pos="0.15 0 0" size="0.4 0.6 0.5" rgba="0.6 0.6 0.5 1" contype="1" conaffinity="1"/> -->
		<body name="bhand_palm_1" pos="0 0 0.06" euler="0 1.57 0">
			<inertial pos="0 0 0" mass="1" diaginertia="0.1 0.1 0.1"/>
			<geom type="mesh" mesh="bhand_palm" />
			<body name="finger_1" pos="-0.025 0 0.0415" quat="0.707107 0 0 -0.707107">
				<geom type="mesh" mesh="finger_1_prox"/>
				<joint name="finger_1_spread" axis="0 0 -1" range="0 3.14159" damping="0.11"/>
				<body name="finger_1_prox" pos="0.05 0 0.0339" quat="0.707107 0.707107 0 0">
					<geom type="mesh" mesh="finger_1_med"/>
					<joint name="finger_1p" range="0 2.44346" damping="0.11"/>
					<body name="finger_1_dist" pos="0.06994 0.003 0" quat="0.92388 0 0 0.382683">
						<geom type="mesh" mesh="finger_1_dist"/>
						<joint name="finger_1d" range="0 0.837758" damping="0.11"/>		
					</body>
				</body>	
			</body>
			<body name="finger_2" pos="0.025 0 0.0415" quat="0.707107 0 0 -0.707107">
				<geom type="mesh" mesh="finger_2_prox"/>
				<joint name="finger_2_spread" axis="0 0 -1" range="0 3.14159" damping="0.11"/>
				<body name="finger_2_prox" pos="0.05 0 0.0339" quat="0.707107 0.707107 0 0">
					<geom type="mesh" mesh="finger_2_med"/>
					<joint name="finger_2p" range="0 2.44346" damping="0.11"/>
					<body name="finger_2_dist" pos="0.06994 0.003 0" quat="0.92388 0 0 0.382683">
						<geom type="mesh" mesh="finger_2_dist"/>
						<joint name="finger_2d" range="0 0.837758" damping="0.11"/>
					</body>
				</body>	
			</body>

			<body name="finger_3_prox" pos="0 0.05 0.0754" quat="0.5 0.5 0.5 0.5">
				<geom type="mesh" mesh="finger_3_med"/>
				<joint name="finger_3p" range="0 2.44346" damping="0.11"/>
				<body name="finger_3_dist" pos="0.06994 0.003 0" quat="0.92388 0 0 0.382683">
					<geom type="mesh" mesh="finger_3_dist"/>
					<joint name="finger_3d" range="0 0.837758" damping="0.11"/>
				</body>
			</body>			
		</body>

		<body name="object" pos="0.25 0 0.06">
			<geom type="sphere" name="geom_object" size="0.05" rgba=".5 .6 .8 1" user="1"
				contype="1" conaffinity="1"/>
			<joint name="fr" type="free" limited="false" damping="0" armature="0" user="010"/>
		</body>
	</worldbody>
</mujoco>